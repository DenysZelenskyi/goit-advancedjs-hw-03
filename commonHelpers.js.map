{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchImages = (query) => {\n  const API_KEY = '10567451-e89d654aa7ed9140fe488f539';\n  const URL = `https://pixabay.com/api/?per_page=10&image_type=photo&orientation=horizontal&safesearch=true&q=${query}&key=${API_KEY}`;\n\n  return fetch(URL).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n};\n","import iziToast from 'izitoast';\n\nexport const createGalleryCardTemplate = (cardInfo) => {\n  return `\n    <a href=\"${cardInfo.largeImageURL}\" class=\"gallery-item\">\n      <div class=\"gallery-card\">\n        <img src=\"${cardInfo.webformatURL}\" alt=\"${cardInfo.tags}\" loading=\"lazy\" />\n        <div class=\"info\">\n          <p><strong>Likes:</strong> ${cardInfo.likes}</p>\n          <p><strong>Views:</strong> ${cardInfo.views}</p>\n          <p><strong>Comments:</strong> ${cardInfo.comments}</p>\n          <p><strong>Downloads:</strong> ${cardInfo.downloads}</p>\n        </div>\n      </div>\n    </a>\n  `;\n};\n\nexport const displayGallery = (galleryMarkup, galleryEl, lightbox) => {\n  galleryEl.innerHTML = galleryMarkup;\n  lightbox.refresh();\n};\n\nexport const displayError = (message) => {\n  iziToast.error({\n    title: 'Error',\n    message,\n  });\n};\n\nexport const displayWarning = (message) => {\n  iziToast.warning({\n    title: 'No results',\n    message,\n  });\n};\n","import SimpleLightbox from \"simplelightbox\";\n\nimport { fetchImages } from './js/pixabay-api';\nimport { createGalleryCardTemplate, displayGallery, displayError, displayWarning } from './js/render-functions';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\nlet lightbox = new SimpleLightbox('.js-gallery a');\n\nconst onSearchFormSubmit = e => {\n  e.preventDefault();\n\n  const searchedValue = e.target.elements.user_query.value.trim();\n\n  if (!searchedValue) {\n    displayError('Please enter a search query.');\n    return;\n  }\n\n  loaderEl.classList.remove('is-hidden');\n  \n  fetchImages(searchedValue)\n    .then(data => {\n      if (data.hits.length === 0) {\n        displayWarning('Sorry, there are no images matching your search query. Please try again!');\n      } else {\n        const galleryMarkup = data.hits.map(createGalleryCardTemplate).join('');\n        displayGallery(galleryMarkup, galleryEl, lightbox);\n      }\n    })\n    .catch(err => {\n      displayError(`Something went wrong: ${err.message}`);\n    })\n    .finally(() => {\n      loaderEl.classList.add('is-hidden');\n    });\n}\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["fetchImages","query","URL","res","createGalleryCardTemplate","cardInfo","displayGallery","galleryMarkup","galleryEl","lightbox","displayError","message","iziToast","displayWarning","searchFormEl","loaderEl","SimpleLightbox","onSearchFormSubmit","searchedValue","data","err"],"mappings":"6vBAAO,MAAMA,EAAeC,GAAU,CAEpC,MAAMC,EAAM,kGAAkGD,CAAK,0CAEnH,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,ECRaC,EAA6BC,GACjC;AAAA,eACMA,EAAS,aAAa;AAAA;AAAA,oBAEjBA,EAAS,YAAY,UAAUA,EAAS,IAAI;AAAA;AAAA,uCAEzBA,EAAS,KAAK;AAAA,uCACdA,EAAS,KAAK;AAAA,0CACXA,EAAS,QAAQ;AAAA,2CAChBA,EAAS,SAAS;AAAA;AAAA;AAAA;AAAA,IAOhDC,EAAiB,CAACC,EAAeC,EAAWC,IAAa,CACpED,EAAU,UAAYD,EACtBE,EAAS,QAAO,CAClB,EAEaC,EAAgBC,GAAY,CACvCC,EAAS,MAAM,CACb,MAAO,QACP,QAAAD,CACJ,CAAG,CACH,EAEaE,EAAkBF,GAAY,CACzCC,EAAS,QAAQ,CACf,MAAO,aACP,QAAAD,CACJ,CAAG,CACH,EC9BMG,EAAe,SAAS,cAAc,iBAAiB,EACvDN,EAAY,SAAS,cAAc,aAAa,EAChDO,EAAW,SAAS,cAAc,YAAY,EAEpD,IAAIN,EAAW,IAAIO,EAAe,eAAe,EAEjD,MAAMC,EAAqB,GAAK,CAC9B,EAAE,eAAc,EAEhB,MAAMC,EAAgB,EAAE,OAAO,SAAS,WAAW,MAAM,OAEzD,GAAI,CAACA,EAAe,CAClBR,EAAa,8BAA8B,EAC3C,MACD,CAEDK,EAAS,UAAU,OAAO,WAAW,EAErCf,EAAYkB,CAAa,EACtB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EACvBN,EAAe,0EAA0E,MACpF,CACL,MAAMN,EAAgBY,EAAK,KAAK,IAAIf,CAAyB,EAAE,KAAK,EAAE,EACtEE,EAAeC,EAAeC,EAAWC,CAAQ,CAClD,CACP,CAAK,EACA,MAAMW,GAAO,CACZV,EAAa,yBAAyBU,EAAI,OAAO,EAAE,CACzD,CAAK,EACA,QAAQ,IAAM,CACbL,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL,EAEAD,EAAa,iBAAiB,SAAUG,CAAkB"}